/* Theme Grid System
 *
 * Default values for theme grid
 */

@mixin grid($cols: 4, $gutter: rem(20), $wrap: wrap) {
	display: flex;
	flex-wrap: $wrap;

	> * {
		flex: 0 1 calc( (100% / #{$cols}) - ( #{$gutter} * ( ( #{$cols} - 1 ) / #{$cols}) ) );
		margin-right: #{$gutter};

		&:nth-child(#{$cols}n) {
			margin-right: 0;
		}
	}
}

/* TODO:
 *	- Refactor grid--# selectors to use mixin
 *	- Update mixin to use bottom margin gutter
 */
.post-grid {
	display: flex;
	flex-wrap: wrap;

	> * {
		flex: 0 0 auto;
		margin: 0 spacer(3) spacer(3) 0;
	}
}

.post-grid--two {
	> * {
		width: calc( ( 100% - ( 6em - 1 ) ) / 2 );

		&:nth-child(2n) {
			margin-right: 0;
		}

		&:nth-last-child(-n+2) {
			margin-bottom: 0;
		}
	}
}

.post-grid--three {
	> * {
		width: calc( ( 100% - ( 9em - 1 ) ) / 3 );

		&:nth-child(3n) {
			margin-right: 0;
		}

		&:nth-last-child(-n+3) {
			margin-bottom: 0;
		}
	}
}
